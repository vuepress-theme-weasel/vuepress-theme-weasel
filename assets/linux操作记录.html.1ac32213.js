import{_ as s,e as n}from"./app.f3af98d4.js";const a={},e=n(`<h2 id="\u91CD\u542Fphp-fpm" tabindex="-1"><a class="header-anchor" href="#\u91CD\u542Fphp-fpm" aria-hidden="true">#</a> \u91CD\u542Fphp-fpm</h2><h3 id="\u67E5\u770Bphp-fpm\u7684master\u8FDB\u7A0B\u53F7" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770Bphp-fpm\u7684master\u8FDB\u7A0B\u53F7" aria-hidden="true">#</a> \u67E5\u770Bphp-fpm\u7684master\u8FDB\u7A0B\u53F7</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># ps aux|grep php-fpm</span>
root     <span class="token number">21891</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112660</span>   <span class="token number">960</span> pts/3    R+   <span class="token number">16</span>:18   <span class="token number">0</span>:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto php-fpm
root     <span class="token number">42891</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">182796</span>  <span class="token number">1220</span> ?        Ss   <span class="token number">4</span>\u670818   <span class="token number">0</span>:19 php-fpm: master process <span class="token punctuation">(</span>/Data/apps/php7/etc/php-fpm.conf<span class="token punctuation">)</span>
nobody   <span class="token number">42892</span>  <span class="token number">0.0</span>  <span class="token number">0.6</span> <span class="token number">183000</span>  <span class="token number">6516</span> ?        S    <span class="token number">4</span>\u670818   <span class="token number">0</span>:07 php-fpm: pool www
nobody   <span class="token number">42893</span>  <span class="token number">0.0</span>  <span class="token number">0.6</span> <span class="token number">183000</span>  <span class="token number">6508</span> ?        S    <span class="token number">4</span>\u670818   <span class="token number">0</span>:17 php-fpm: pool www
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u91CD\u542Fphp-fpm-1" tabindex="-1"><a class="header-anchor" href="#\u91CD\u542Fphp-fpm-1" aria-hidden="true">#</a> \u91CD\u542Fphp-fpm:</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">kill</span> -USR2 <span class="token number">42891</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="redis\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#redis\u64CD\u4F5C" aria-hidden="true">#</a> redis\u64CD\u4F5C</h2><h3 id="\u68C0\u6D4B\u662F\u5426\u6709\u5B89\u88C5redis-cli\u548Credis-server" tabindex="-1"><a class="header-anchor" href="#\u68C0\u6D4B\u662F\u5426\u6709\u5B89\u88C5redis-cli\u548Credis-server" aria-hidden="true">#</a> \u68C0\u6D4B\u662F\u5426\u6709\u5B89\u88C5redis-cli\u548Credis-server</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span> <span class="token comment"># whereis redis-cli</span>
redis-cli: /usr/bin/redis-cli

<span class="token punctuation">[</span>root@localhost bin<span class="token punctuation">]</span> <span class="token comment"># whereis redis-server</span>
redis-server: /usr/bin/redis-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u68C0\u6D4B\u540E\u53F0\u8FDB\u7A0B\u662F\u5426\u5B58\u5728" tabindex="-1"><a class="header-anchor" href="#\u68C0\u6D4B\u540E\u53F0\u8FDB\u7A0B\u662F\u5426\u5B58\u5728" aria-hidden="true">#</a> \u68C0\u6D4B\u540E\u53F0\u8FDB\u7A0B\u662F\u5426\u5B58\u5728</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ps</span> -ef <span class="token operator">|</span><span class="token function">grep</span> redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u68C0\u6D4Bredis\u7AEF\u53E3" tabindex="-1"><a class="header-anchor" href="#\u68C0\u6D4Bredis\u7AEF\u53E3" aria-hidden="true">#</a> \u68C0\u6D4Bredis\u7AEF\u53E3</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">netstat</span> -lntp <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">6379</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528redis-cli\u5BA2\u6237\u7AEF\u68C0\u6D4B\u8FDE\u63A5\u662F\u5426\u6B63\u5E38" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528redis-cli\u5BA2\u6237\u7AEF\u68C0\u6D4B\u8FDE\u63A5\u662F\u5426\u6B63\u5E38" aria-hidden="true">#</a> \u4F7F\u7528redis-cli\u5BA2\u6237\u7AEF\u68C0\u6D4B\u8FDE\u63A5\u662F\u5426\u6B63\u5E38</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>redis-cli
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> key <span class="token string">&quot;hello world&quot;</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key
<span class="token string">&quot;hello world&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u505C\u6B62redis" tabindex="-1"><a class="header-anchor" href="#\u505C\u6B62redis" aria-hidden="true">#</a> \u505C\u6B62redis</h3><h4 id="\u4F7F\u7528\u5BA2\u6237\u7AEF" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u5BA2\u6237\u7AEF" aria-hidden="true">#</a> \u4F7F\u7528\u5BA2\u6237\u7AEF</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>redis-cli <span class="token function">shutdown</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u56E0\u4E3Aredis\u53EF\u4EE5\u59A5\u5584\u5904\u7406sigterm\u4FE1\u53F7-\u6240\u4EE5\u76F4\u63A5kill-9\u4E5F\u662F\u53EF\u4EE5\u7684" tabindex="-1"><a class="header-anchor" href="#\u56E0\u4E3Aredis\u53EF\u4EE5\u59A5\u5584\u5904\u7406sigterm\u4FE1\u53F7-\u6240\u4EE5\u76F4\u63A5kill-9\u4E5F\u662F\u53EF\u4EE5\u7684" aria-hidden="true">#</a> \u56E0\u4E3ARedis\u53EF\u4EE5\u59A5\u5584\u5904\u7406SIGTERM\u4FE1\u53F7\uFF0C\u6240\u4EE5\u76F4\u63A5kill -9\u4E5F\u662F\u53EF\u4EE5\u7684</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">kill</span> -9 PID
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="iptables\u7B80\u5355\u914D\u7F6E\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#iptables\u7B80\u5355\u914D\u7F6E\u65B9\u6CD5" aria-hidden="true">#</a> iptables\u7B80\u5355\u914D\u7F6E\u65B9\u6CD5</h2><h3 id="\u4FEE\u6539\u65B9\u5F0F\u4E00-\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u65B9\u5F0F\u4E00-\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u4FEE\u6539\u65B9\u5F0F\u4E00: \u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/sysconfig/iptables
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u4FEE\u6539\u65B9\u5F0F\u4E8C-\u901A\u8FC7iptables\u547D\u4EE4\u6DFB\u52A0" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u65B9\u5F0F\u4E8C-\u901A\u8FC7iptables\u547D\u4EE4\u6DFB\u52A0" aria-hidden="true">#</a> \u4FEE\u6539\u65B9\u5F0F\u4E8C\uFF1A\u901A\u8FC7iptables\u547D\u4EE4\u6DFB\u52A0</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>iptables -A INPUT -p tcp --dport <span class="token number">8080</span> -j ACCEPT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u91CD\u542Fiptables" tabindex="-1"><a class="header-anchor" href="#\u91CD\u542Fiptables" aria-hidden="true">#</a> \u91CD\u542Fiptables</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">service</span> iptables restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA" aria-hidden="true">#</a> \u914D\u7F6E\u6587\u4EF6\u89E3\u91CA</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>*filter
<span class="token comment">#\u9ED8\u8BA4INPUT \u7684\u7B56\u7565\u662FDROP \u5373\u62D2\u7EDD\u6240\u6709\u7684\u5916\u6765\u8BF7\u6C42</span>
:INPUT DROP <span class="token punctuation">[</span><span class="token number">0</span>:0<span class="token punctuation">]</span>
<span class="token comment">#\u4E00\u822C\u60C5\u51B5\u4E0B\u7528\u4E0D\u5230FORWARD \u53EF\u4EE5\u914D\u7F6E\u4E3A\u9ED8\u8BA4DROP</span>
:FORWARD DROP <span class="token punctuation">[</span><span class="token number">0</span>:0<span class="token punctuation">]</span>
<span class="token comment">#\u672C\u673A\u5BF9\u5176\u4ED6\u673A\u5668\u8BBF\u95EE\u8BBE\u7F6E\u4E3A\u9ED8\u8BA4ACCEPT</span>
:OUTPUT ACCEPT <span class="token punctuation">[</span><span class="token number">0</span>:0<span class="token punctuation">]</span>
<span class="token comment">#\u5141\u8BB8\u5DF2\u7ECF\u5EFA\u7ACB\u548C\u76F8\u5173\u7684\u8FDE\u63A5</span>
-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT
<span class="token comment">#\u5141\u8BB8icmp\u534F\u8BAE(\u5373ping)</span>
-A INPUT -p icmp -j ACCEPT
<span class="token comment">#\u5141\u8BB8\u56DE\u73AF\u8BF7\u6C42</span>
-A INPUT -i lo -j ACCEPT
<span class="token comment">#\u5F00\u653E\u7AEF\u53E322 80(\u5982\u679C\u8981\u5F00\u653E\u5176\u4ED6\u7AEF\u53E3 \u7EE7\u7EED\u6DFB\u52A0\u5F00\u653E\u89C4\u5219\u5373\u53EF)</span>
-A INPUT -p tcp -m state --state NEW -m tcp --dport <span class="token number">22</span> -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport <span class="token number">80</span> -j ACCEPT
COMMIT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="chmod-\u66F4\u6539-authorized-keys-\u7684\u6743\u9650-\u4E0D\u5141\u8BB8\u7684\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#chmod-\u66F4\u6539-authorized-keys-\u7684\u6743\u9650-\u4E0D\u5141\u8BB8\u7684\u64CD\u4F5C" aria-hidden="true">#</a> chmod: \u66F4\u6539&#39;authorized_keys&#39; \u7684\u6743\u9650: \u4E0D\u5141\u8BB8\u7684\u64CD\u4F5C</h3><p>\u539F\u56E0 \u5728linux\u7CFB\u7EDF\u4E0B</p><p>\u6709\u4E9B\u914D\u7F6E\u6587\u4EF6\u662F\u4E0D\u5141\u8BB8\u88AB\u4EFB\u4F55\u4EBA\uFF08\u5305\u62ECroot\uFF09\u4FEE\u6539\u7684 \u4E3A\u4E86\u9632\u6B62\u88AB\u8BEF\u4FEE\u6539\u6216\u5220\u9664 \u53EF\u4EE5\u8BBE\u5B9A\u8BE5\u6587\u4EF6\u7684\u4E0D\u53EF\u4FEE\u6539\u4F4D\uFF1Aimmutable</p><p>\u89E3\u51B3\u529E\u6CD5 \uFF1Achattr \u9632\u6B62\u5173\u952E\u6587\u4EF6\u88AB\u4FEE\u6539\uFF1A \u3000\u3000chattr +i authorized_keys \u5982\u679C\u9700\u8981\u4FEE\u6539\u6587\u4EF6\u5219\uFF1A \u3000\u3000chattr -i authorized_keys</p>`,32);function i(r,l){return e}var p=s(a,[["render",i],["__file","linux\u64CD\u4F5C\u8BB0\u5F55.html.vue"]]);export{p as default};
