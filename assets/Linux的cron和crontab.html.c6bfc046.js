import{_ as n,e as s}from"./app.f3af98d4.js";const a={},e=s(`<h1 id="\u4E00-cron" tabindex="-1"><a class="header-anchor" href="#\u4E00-cron" aria-hidden="true">#</a> \u4E00 cron</h1><p>crond\u4F4D\u4E8E/etc/rc.d/init.d/crond \u6216 /etc/init.d \u6216 /etc/rc.d /rc5.d/S90crond,\u6700\u603B\u5F15\u7528/var/lock/subsys/crond\u3002</p><p>cron\u662F\u4E00\u4E2Alinux\u4E0B\u7684\u5B9A\u65F6\u6267\u884C\u5DE5\u5177\uFF08\u76F8\u5F53\u4E8Ewindows\u4E0B\u7684scheduled task\uFF09\uFF0C\u53EF\u4EE5\u5728\u65E0\u9700\u4EBA\u5DE5\u5E72\u9884\u7684\u60C5\u51B5\u4E0B\u5B9A\u65F6\u5730\u8FD0\u884C\u4EFB\u52A1task\u3002\u7531\u4E8Ecron \u662FLinux\u7684service\uFF08deamon\uFF09\uFF0C\u53EF\u4EE5\u7528\u4EE5\u4E0B\u7684\u65B9\u6CD5\u542F\u52A8\u3001\u5173\u95ED\u8FD9\u4E2A\u670D\u52A1\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/sbin/service crond start //\u542F\u52A8\u670D\u52A1
/sbin/service crond stop //\u5173\u95ED\u670D\u52A1
/sbin/service crond restart //\u91CD\u542F\u670D\u52A1
/sbin/service crond reload //\u91CD\u65B0\u8F7D\u5165\u914D\u7F6E
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F60\u4E5F\u53EF\u4EE5\u5C06\u8FD9\u4E2A\u670D\u52A1\u5728\u7CFB\u7EDF\u542F\u52A8\u7684\u65F6\u5019\u81EA\u52A8\u542F\u52A8\uFF1A \u5728/etc/rc.d/rc.local\u8FD9\u4E2A\u811A\u672C\u7684\u672B\u5C3E\u52A0\u4E0A\uFF1A /sbin/service crond start</p><p>\u73B0\u5728cron\u8FD9\u4E2A\u670D\u52A1\u5DF2\u7ECF\u5728\u8FDB\u7A0B\u91CC\u9762\u4E86\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u7528\u8FD9\u4E2A\u670D\u52A1\u4E86\u3002</p><p>\u4E8C crontab</p><p>crontab\u4F4D\u4E8E/usr/bin/crontab\u3002</p><p>cron\u670D\u52A1\u63D0\u4F9Bcrontab\u547D\u4EE4\u6765\u8BBE\u5B9Acron\u670D\u52A1\u7684\uFF0C\u4EE5\u4E0B\u662F\u8FD9\u4E2A\u547D\u4EE4\u7684\u4E00\u4E9B\u53C2\u6570\u4E0E\u8BF4\u660E\uFF1A crontab -u //\u8BBE\u5B9A\u67D0\u4E2A\u7528\u6237\u7684cron\u670D\u52A1\uFF0C\u4E00\u822Croot\u7528\u6237\u5728\u6267\u884C\u8FD9\u4E2A\u547D\u4EE4\u7684\u65F6\u5019\u9700\u8981\u6B64\u53C2\u6570 crontab -l //\u5217\u51FA\u67D0\u4E2A\u7528\u6237cron\u670D\u52A1\u7684\u8BE6\u7EC6\u5185\u5BB9 crontab -r //\u5220\u9664\u67D0\u4E2A\u7528\u6237\u7684cron\u670D\u52A1 crontab -e //\u7F16\u8F91\u67D0\u4E2A\u7528\u6237\u7684cron\u670D\u52A1</p><p>\u6BD4\u5982\u8BF4root\u67E5\u770B\u81EA\u5DF1\u7684cron\u8BBE\u7F6E\uFF1Acrontab -u root -l \u518D\u4F8B\u5982\uFF0Croot\u60F3\u5220\u9664fred\u7684cron\u8BBE\u7F6E\uFF1Acrontab -u fred -r \u5728\u7F16\u8F91cron\u670D\u52A1\u65F6\uFF0C\u7F16\u8F91\u7684\u5185\u5BB9\u6709\u4E00\u4E9B\u683C\u5F0F\u548C\u7EA6\u5B9A\uFF0C\u8F93\u5165\uFF1Acrontab -u root -e \u8FDB\u5165vi\u7F16\u8F91\u6A21\u5F0F\uFF0C\u7F16\u8F91\u7684\u5185\u5BB9\u4E00\u5B9A\u8981\u7B26\u5408\u4E0B\u9762\u7684\u683C\u5F0F\uFF1A</p><p><em>/1 * * * * ls &gt;&gt; /tmp/ls.txt \u8FD9\u4E2A\u683C\u5F0F\u7684\u524D\u4E00\u90E8\u5206\u662F\u5BF9\u65F6\u95F4\u7684\u8BBE\u5B9A\uFF0C\u540E\u9762\u4E00\u90E8\u5206\u662F\u8981\u6267\u884C\u7684\u547D\u4EE4\uFF0C\u5982\u679C\u8981\u6267\u884C\u7684\u547D\u4EE4\u592A\u591A\uFF0C\u53EF\u4EE5\u628A\u8FD9\u4E9B\u547D\u4EE4\u5199\u5230\u4E00\u4E2A\u811A\u672C\u91CC\u9762\uFF0C\u7136\u540E\u5728\u8FD9\u91CC\u76F4\u63A5\u8C03\u7528\u8FD9\u4E2A\u811A\u672C\u5C31\u53EF\u4EE5\u4E86\uFF0C\u8C03\u7528\u7684\u65F6\u5019\u8BB0\u5F97\u5199\u51FA\u547D\u4EE4\u7684\u5B8C\u6574\u8DEF\u5F84\u3002\u65F6\u95F4\u7684\u8BBE\u5B9A\u6211\u4EEC\u6709\u4E00\u5B9A\u7684\u7EA6\u5B9A\uFF0C\u524D\u9762\u4E94\u4E2A</em>\u53F7\u4EE3\u8868\u4E94\u4E2A\u6570\u5B57\uFF0C\u6570\u5B57\u7684\u53D6\u503C\u8303\u56F4\u548C\u542B\u4E49\u5982\u4E0B\uFF1A</p><p>\u5206\u949F\u3000\uFF080-59\uFF09 \u5C0F\u6642\u3000\uFF080-23\uFF09 \u65E5\u671F\u3000\uFF081-31\uFF09 \u6708\u4EFD\u3000\uFF081-12\uFF09 \u661F\u671F\u3000\uFF080-6\uFF09//0\u4EE3\u8868\u661F\u671F\u5929</p><p>\u9664\u4E86\u6570\u5B57\u8FD8\u6709\u51E0\u4E2A\u4E2A\u7279\u6B8A\u7684\u7B26\u53F7\u5C31\u662F&quot;*&quot;\u3001&quot;/&quot;\u548C&quot;-&quot;\u3001&quot;,&quot;\uFF0C<em>\u4EE3\u8868\u6240\u6709\u7684\u53D6\u503C\u8303\u56F4\u5185\u7684\u6570\u5B57\uFF0C&quot;/&quot;\u4EE3\u8868\u6BCF\u7684\u610F\u601D,&quot;</em>/5&quot;\u8868\u793A\u6BCF5\u4E2A\u5355\u4F4D\uFF0C&quot;-&quot;\u4EE3\u8868\u4ECE\u67D0\u4E2A\u6570\u5B57\u5230\u67D0\u4E2A\u6570\u5B57,&quot;,&quot;\u5206\u5F00\u51E0\u4E2A\u79BB\u6563\u7684\u6570\u5B57\u3002\u4EE5\u4E0B\u4E3E\u51E0\u4E2A\u4F8B\u5B50\u8BF4\u660E\u95EE\u9898\uFF1A</p><p>\u6BCF\u5929\u65E9\u4E0A6\u70B9 0 6 * * * echo &quot;Good morning.&quot; &gt;&gt; /tmp/test.txt //\u6CE8\u610F\u5355\u7EAFecho\uFF0C\u4ECE\u5C4F\u5E55\u4E0A\u770B\u4E0D\u5230\u4EFB\u4F55\u8F93\u51FA\uFF0C\u56E0\u4E3Acron\u628A\u4EFB\u4F55\u8F93\u51FA\u90FDemail\u5230root\u7684\u4FE1\u7BB1\u4E86\u3002</p><p>\u6BCF\u4E24\u4E2A\u5C0F\u65F6 0 */2 * * * echo &quot;Have a break now.&quot; &gt;&gt; /tmp/test.txt</p><p>\u665A\u4E0A11\u70B9\u5230\u65E9\u4E0A8\u70B9\u4E4B\u95F4\u6BCF\u4E24\u4E2A\u5C0F\u65F6\uFF0C\u65E9\u4E0A\u516B\u70B9 0 23-7/2\uFF0C8 * * * echo &quot;Have a good dream\uFF1A\uFF09&quot; &gt;&gt; /tmp/test.txt</p><p>\u6BCF\u4E2A\u6708\u76844\u53F7\u548C\u6BCF\u4E2A\u793C\u62DC\u7684\u793C\u62DC\u4E00\u5230\u793C\u62DC\u4E09\u7684\u65E9\u4E0A11\u70B9 0 11 4 * 1-3 command line</p><p>1\u67081\u65E5\u65E9\u4E0A4\u70B9 0 4 1 1 * command line</p><p>\u6BCF\u6B21\u7F16\u8F91\u5B8C\u67D0\u4E2A\u7528\u6237\u7684cron\u8BBE\u7F6E\u540E\uFF0Ccron\u81EA\u52A8\u5728/var/spool/cron\u4E0B\u751F\u6210\u4E00\u4E2A\u4E0E\u6B64\u7528\u6237\u540C\u540D\u7684\u6587\u4EF6\uFF0C\u6B64\u7528\u6237\u7684cron\u4FE1\u606F\u90FD\u8BB0\u5F55\u5728\u8FD9\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u8FD9\u4E2A\u6587\u4EF6\u662F\u4E0D\u53EF\u4EE5\u76F4\u63A5\u7F16\u8F91\u7684\uFF0C\u53EA\u53EF\u4EE5\u7528crontab -e \u6765\u7F16\u8F91\u3002cron\u542F\u52A8\u540E\u6BCF\u8FC7\u4E00\u4EFD\u949F\u8BFB\u4E00\u6B21\u8FD9\u4E2A\u6587\u4EF6\uFF0C\u68C0\u67E5\u662F\u5426\u8981\u6267\u884C\u91CC\u9762\u7684\u547D\u4EE4\u3002\u56E0\u6B64\u6B64\u6587\u4EF6\u4FEE\u6539\u540E\u4E0D\u9700\u8981\u91CD\u65B0\u542F\u52A8cron\u670D\u52A1\u3002</p><p>\u4E09 \u7F16\u8F91/etc/crontab\u914D\u7F6E\u6587\u4EF6 cron\u7684\u7CFB\u7EDF\u7EA7\u914D\u7F6E\u6587\u4EF6\u4F4D\u4E8E/etc/crontab\u3002</p><p>cron\u670D\u52A1\u6BCF\u5206\u949F\u4E0D\u4EC5\u8981\u8BFB\u4E00\u6B21/var/spool/cron\u5185\u7684\u6240\u6709\u6587\u4EF6\uFF0C\u8FD8\u9700\u8981\u8BFB\u4E00\u6B21/etc/crontab\u914D\u7F6E\u6587\u4EF6,\u56E0\u6B64\u6211\u4EEC\u914D\u7F6E\u8FD9\u4E2A\u6587\u4EF6\u4E5F\u80FD\u8FD0\u7528 cron\u670D\u52A1\u505A\u4E00\u4E9B\u4E8B\u60C5\u3002\u7528crontab -e\u8FDB\u884C\u7684\u914D\u7F6E\u662F\u9488\u5BF9\u67D0\u4E2A\u7528\u6237\u7684\uFF0C\u800C\u7F16\u8F91/etc/crontab\u662F\u9488\u5BF9\u7CFB\u7EDF\u7684\u4EFB\u52A1\u3002\u6B64\u6587\u4EF6\u7684\u6587\u4EF6\u683C\u5F0F\u662F\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/sbin:/bin:/usr/sbin:/usr/bin
<span class="token assign-left variable">MAILTO</span><span class="token operator">=</span>root      //\u5982\u679C\u51FA\u73B0\u9519\u8BEF\uFF0C\u6216\u8005\u6709\u6570\u636E\u8F93\u51FA\uFF0C\u6570\u636E\u4F5C\u4E3A\u90AE\u4EF6\u53D1\u7ED9\u8FD9\u4E2A\u5E10\u53F7
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/    //\u4F7F\u7528\u8005\u8FD0\u884C\u7684\u8DEF\u5F84,\u8FD9\u91CC\u662F\u6839\u76EE\u5F55

<span class="token comment"># run-parts</span>

01 * * * * root run-parts /etc/cron.hourly //\u6BCF\u5C0F\u65F6\u6267\u884C/etc/cron.hourly\u5185\u7684\u811A\u672C
02 <span class="token number">4</span> * * * root run-parts /etc/cron.daily //\u6BCF\u5929\u6267\u884C/etc/cron.daily\u5185\u7684\u811A\u672C
<span class="token number">22</span> <span class="token number">4</span> * * <span class="token number">0</span> root run-parts /etc/cron.weekly //\u6BCF\u661F\u671F\u6267\u884C/etc/cron.weekly\u5185\u7684\u811A\u672C
<span class="token number">42</span> <span class="token number">4</span> <span class="token number">1</span> * * root run-parts /etc/cron.monthly //\u6BCF\u6708\u53BB\u6267\u884C/etc/cron.monthly\u5185\u7684\u811A\u672C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5927\u5BB6\u6CE8\u610F&quot;run-parts&quot;\u8FD9\u4E2A\u53C2\u6570\u4E86\uFF0C\u5982\u679C\u53BB\u6389\u8FD9\u4E2A\u53C2\u6570\u7684\u8BDD\uFF0C\u540E\u9762\u5C31\u53EF\u4EE5\u5199\u8981\u8FD0\u884C\u7684\u67D0\u4E2A\u811A\u672C\u540D\uFF0C\u800C\u4E0D\u662F\u6587\u4EF6\u5939\u540D\u4E86\u3002</p><p>\u56DB \u5B9E\u4F8B</p><hr><p>\u57FA\u672C\u683C\u5F0F : [\u53C2\u6570\u95F4\u5FC5\u987B\u4F7F\u7528\u7A7A\u683C\u9694\u5F00] *\u3000\u3000*\u3000\u3000*\u3000\u3000*\u3000\u3000*\u3000\u3000command \u5206\u3000\u65F6\u3000\u65E5\u3000\u6708\u3000\u5468\u3000\u547D\u4EE4</p><p>\u7B2C1\u5217\u8868\u793A\u5206\u949F1\uFF5E59 \u6BCF\u5206\u949F\u7528*\u6216\u8005 */1\u8868\u793A \u7B2C2\u5217\u8868\u793A\u5C0F\u65F61\uFF5E23\uFF080\u8868\u793A0\u70B9\uFF09 \u7B2C3\u5217\u8868\u793A\u65E5\u671F1\uFF5E31 \u7B2C4\u5217\u8868\u793A\u6708\u4EFD1\uFF5E12 \u7B2C5\u5217\u6807\u8BC6\u53F7\u661F\u671F0\uFF5E6\uFF080\u8868\u793A\u661F\u671F\u5929\uFF09 \u7B2C6\u5217\u8981\u8FD0\u884C\u7684\u547D\u4EE4</p><p>crontab\u6587\u4EF6\u7684\u4E00\u4E9B\u4F8B\u5B50\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token number">30</span> <span class="token number">21</span> * * * /usr/local/etc/rc.d/lighttpd restart
\u4E0A\u9762\u7684\u4F8B\u5B50\u8868\u793A\u6BCF\u665A\u768421:30\u91CD\u542Flighttpd \u3002

<span class="token number">45</span> <span class="token number">4</span> <span class="token number">1,10</span>,22 * * /usr/local/etc/rc.d/lighttpd restart
\u4E0A\u9762\u7684\u4F8B\u5B50\u8868\u793A\u6BCF\u67081\u300110\u300122\u65E5\u76844 <span class="token builtin class-name">:</span> <span class="token number">45</span>\u91CD\u542Flighttpd \u3002

<span class="token number">10</span> <span class="token number">1</span> * * <span class="token number">6,0</span> /usr/local/etc/rc.d/lighttpd restart
\u4E0A\u9762\u7684\u4F8B\u5B50\u8868\u793A\u6BCF\u5468\u516D\u3001\u5468\u65E5\u76841 <span class="token builtin class-name">:</span> <span class="token number">10</span>\u91CD\u542Flighttpd \u3002

<span class="token number">0,30</span> <span class="token number">18</span>-23 * * * /usr/local/etc/rc.d/lighttpd restart
\u4E0A\u9762\u7684\u4F8B\u5B50\u8868\u793A\u5728\u6BCF\u592918 <span class="token builtin class-name">:</span> 00\u81F323 <span class="token builtin class-name">:</span> 00\u4E4B\u95F4\u6BCF\u969430\u5206\u949F\u91CD\u542Flighttpd \u3002

<span class="token number">0</span> <span class="token number">23</span> * * <span class="token number">6</span> /usr/local/etc/rc.d/lighttpd restart
\u4E0A\u9762\u7684\u4F8B\u5B50\u8868\u793A\u6BCF\u661F\u671F\u516D\u768411 <span class="token builtin class-name">:</span> 00 pm\u91CD\u542Flighttpd \u3002

* */1 * * * /usr/local/etc/rc.d/lighttpd restart
\u6BCF\u4E00\u5C0F\u65F6\u91CD\u542Flighttpd

* <span class="token number">23</span>-7/1 * * * /usr/local/etc/rc.d/lighttpd restart
\u665A\u4E0A11\u70B9\u5230\u65E9\u4E0A7\u70B9\u4E4B\u95F4\uFF0C\u6BCF\u9694\u4E00\u5C0F\u65F6\u91CD\u542Flighttpd

<span class="token number">0</span> <span class="token number">11</span> <span class="token number">4</span> * mon-wed /usr/local/etc/rc.d/lighttpd restart
\u6BCF\u6708\u76844\u53F7\u4E0E\u6BCF\u5468\u4E00\u5230\u5468\u4E09\u768411\u70B9\u91CD\u542Flighttpd

<span class="token number">0</span> <span class="token number">4</span> <span class="token number">1</span> jan * /usr/local/etc/rc.d/lighttpd restart
\u4E00\u6708\u4E00\u53F7\u76844\u70B9\u91CD\u542Flighttpd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E94 \u7279\u6B8A\u7528\u6CD5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>@hourly /usr/local/www/awstats/cgi-bin/awstats.sh
\u4F7F\u7528 @hourly \u5C0D\u61C9\u7684\u662F <span class="token number">0</span> * * * *, \u9084\u6709\u4E0B\u8FF0\u53EF\u4EE5\u4F7F\u7528:
string            meaning
------           -------
@reboot        Run once, at startup.
@yearly         Run once a year, <span class="token string">&quot;0 0 1 1 *&quot;</span><span class="token builtin class-name">.</span>
@annually      <span class="token punctuation">(</span>same as @yearly<span class="token punctuation">)</span>
@monthly       Run once a month, <span class="token string">&quot;0 0 1 * *&quot;</span><span class="token builtin class-name">.</span>
@weekly        Run once a week, <span class="token string">&quot;0 0 * * 0&quot;</span><span class="token builtin class-name">.</span>
@daily           Run once a day, <span class="token string">&quot;0 0 * * *&quot;</span><span class="token builtin class-name">.</span>
@midnight      <span class="token punctuation">(</span>same as @daily<span class="token punctuation">)</span>
@hourly         Run once an hour, <span class="token string">&quot;0 * * * *&quot;</span><span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,31);function t(r,c){return e}var l=n(a,[["render",t],["__file","Linux\u7684cron\u548Ccrontab.html.vue"]]);export{l as default};
